---
title: Release of OCaml 4.14.1
description: Release of OCaml 4.14.1
date: "2022-12-20"
tags: [ocaml, release]
changelog: |
  ## Changes in OCaml 4.14.1 (20 December 2022)

  ### Compiler User-Interface and Warnings:

  - [#11184](https://github.com/ocaml/ocaml/issues/11184 - [403 Forbidden]), [#11670](https://github.com/ocaml/ocaml/issues/11670 - [403 Forbidden]): Stop calling `ranlib` on created / installed libraries
    (Sébastien Hinderer and Xavier Leroy, review by the same)

  ### Build System:

  - [#11370](https://github.com/ocaml/ocaml/issues/11370 - [403 Forbidden]), [#11373](https://github.com/ocaml/ocaml/issues/11373 - [403 Forbidden]): Don't pass CFLAGS to flexlink during configure.
    (David Allsopp, report by William Hu, review by Xavier Leroy and
    Sébastien Hinderer)

  - [#11487](https://github.com/ocaml/ocaml/issues/11487 - [403 Forbidden]): Thwart FMA test optimisation during configure
    (William Hu, review by David Allsopp and Sébastien Hinderer)

  ### Bug Fixes:

  - [#10768](https://github.com/ocaml/ocaml/issues/10768 - [403 Forbidden]), [#11340](https://github.com/ocaml/ocaml/issues/11340 - [403 Forbidden]): Fix typechecking regression when combining first class
    modules and GADTs.
    (Jacques Garrigue, report by François Thiré, review by Matthew Ryan)

  - [#11204](https://github.com/ocaml/ocaml/issues/11204 - [403 Forbidden]): Fix regression introduced in 4.14.0 that would trigger Warning 17 when
    calling virtual methods introduced by constraining the self type from within
    the class definition.
    (Nicolás Ojeda Bär, review by Leo White)

  - [#11263](https://github.com/ocaml/ocaml/issues/11263 - [403 Forbidden]), [#11267](https://github.com/ocaml/ocaml/issues/11267 - [403 Forbidden]): caml/{memory,misc}.h: Check whether `_MSC_VER` is defined
    before using it to ensure that the headers can always be used in code which
    turns on `-Wundef` (or equivalent).
    (David Allsopp and Nicolás Ojeda Bär, review by Nicolás Ojeda Bär and
    Sébastien Hinderer)

  - [#11314](https://github.com/ocaml/ocaml/issues/11314 - [403 Forbidden]), [#11416](https://github.com/ocaml/ocaml/issues/11416 - [403 Forbidden]): Fix non-informative error message for module inclusion
    (Florian Angeletti, report by Thierry Martinez, review by Gabriel Scherer)

  - [#11358](https://github.com/ocaml/ocaml/issues/11358 - [403 Forbidden]), [#11379](https://github.com/ocaml/ocaml/issues/11379 - [403 Forbidden]): Refactor the initialisation of bytecode threading,
    This avoids a "dangling pointer" warning of GCC 12.1.
    (Xavier Leroy, report by Armaël Guéneau, review by Gabriel Scherer)

  - [#11387](https://github.com/ocaml/ocaml/issues/11387 - [403 Forbidden]): Module type with constraints no longer crash the compiler in presence
    of both shadowing warnings and the `-bin-annot` compiler flag.
    (Florian Angeletti, report by Christophe Raffalli, review by Gabriel Scherer)

  - [#11392](https://github.com/ocaml/ocaml/issues/11392 - [403 Forbidden]), [#11392](https://github.com/ocaml/ocaml/issues/11392 - [403 Forbidden]): Assertion failure with `-rectypes` and external definitions
    (Gabriel Scherer, review by Florian Angeletti, report by Dmitrii Kosarev)

  - [#11417](https://github.com/ocaml/ocaml/issues/11417 - [403 Forbidden]): Fix a regression which allowed virtual methods in non-virtual classes.
    (Leo White, review by Florian Angeletti)

  - [#11468](https://github.com/ocaml/ocaml/issues/11468 - [403 Forbidden]): Fix regression from [#10186](https://github.com/ocaml/ocaml/issues/10186 - [403 Forbidden]) (OCaml 4.13) detecting IPv6 on Windows for
    Mingw-w64 i686 port.
    (David Allsopp, review by Xavier Leroy and Sébastien Hinderer)

  - [#11489](https://github.com/ocaml/ocaml/issues/11489 - [403 Forbidden]), [#11496](https://github.com/ocaml/ocaml/issues/11496 - [403 Forbidden]): More prudent deallocation of alternate signal stack
    (Xavier Leroy, report by @rajdakin, review by Florian Angeletti)

  - [#11516](https://github.com/ocaml/ocaml/issues/11516 - [403 Forbidden]), [#11524](https://github.com/ocaml/ocaml/issues/11524 - [403 Forbidden]): Fix the `deprecated_mutable` attribute.
    (Chris Casinghino, review by Nicolás Ojeda Bär and Florian Angeletti)

  - [#11194](https://github.com/ocaml/ocaml/issues/11194 - [403 Forbidden]), [#11609](https://github.com/ocaml/ocaml/issues/11609 - [403 Forbidden]): Fix inconsistent type variable names in "unbound type var"
    messages
    (Ulysse Gérard and Florian Angeletti, review Florian Angeletti and
    Gabriel Scherer)

  - [#11622](https://github.com/ocaml/ocaml/issues/11622 - [403 Forbidden]): Prevent stack overflow when printing a constructor or record
    mismatch error involving recursive types.
    (Florian Angeletti, review by Gabriel Scherer)

  - [#11732](https://github.com/ocaml/ocaml/issues/11732 - [403 Forbidden]): Ensure that types from packed modules are always generalised
    (Stephen Dolan and Leo White, review by Jacques Garrigue)

  - [#11737](https://github.com/ocaml/ocaml/issues/11737 - [403 Forbidden]): Fix segfault condition in `Unix.stat` under Windows in the presence of
    multiple threads.
    (Marc Lasson, Nicolás Ojeda Bär, review by Gabriel Scherer and David Allsopp)

  - [#11776](https://github.com/ocaml/ocaml/issues/11776 - [403 Forbidden]): Extend environment with functor parameters in `strengthen_lazy`.
    (Chris Casinghino and Luke Maurer, review by Gabriel Scherer)

  - [#11533](https://github.com/ocaml/ocaml/issues/11533 - [403 Forbidden]), [#11534](https://github.com/ocaml/ocaml/issues/11534 - [403 Forbidden]): Follow synonyms again in `#show_module_type`
    (this had stopped working in 4.14.0)
    (Gabriel Scherer, review by Jacques Garrigue, report by Yaron Minsky)

  - [#11768](https://github.com/ocaml/ocaml/issues/11768 - [403 Forbidden]), [#11788](https://github.com/ocaml/ocaml/issues/11788 - [403 Forbidden]): Fix crash at start-up of bytecode programs in
    no-naked-pointers mode caused by wrong initialisation of `caml_global_data`
    (Xavier Leroy, report by Etienne Millon, review by Gabriel Scherer)

  - [#11803](https://github.com/ocaml/ocaml/issues/11803 - [403 Forbidden]), [#11808](https://github.com/ocaml/ocaml/issues/11808 - [403 Forbidden]): On x86, the destination of an integer comparison must be
    a register; it cannot be a stack slot.
    (Vincent Laviron, review by Xavier Leroy, report by
    Emilio Jesús Gallego Arias)
---
We have the pleasure of celebrating the birthday of Oronce Finé by announcing the release of OCaml version 4.14.1.

This release is a collection of safe bug fixes, cherry-picked from the OCaml 5.0.0 release. If you were using OCaml 4.14.0 and cannot yet upgrade to OCaml 5, this release is for you.

The 4.14 branch is expected to receive more backported fixes during the maturation of OCaml 5. Thus don't hesitate to report any bugs on the [OCaml issue tracker](https://github.com/ocaml/ocaml/issues - [403 Forbidden]).

See the list of changes below for more details.

---

## Installation Instructions

The base compiler can be installed as an opam switch with the following commands:

```bash
opam update
opam switch create 4.14.1
```
The source code for the release candidate is also directly available on:

* [GitHub](https://github.com/ocaml/ocaml/archive/4.14.1.tar.gz - [403 Forbidden])
* [Inria archive](https://caml.inria.fr/pub/distrib/ocaml-4.14/ocaml-4.14.1.tar.gz)
